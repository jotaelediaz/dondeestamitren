<h1>Líneas</h1>

<div style="margin-bottom:1rem">
	<label>Filtrar por núcleo:</label>
	<select onchange="if(this.value){window.location='/lines/'+this.value;}else{window.location='/lines';}">
		<option value="">(todos)</option>
		{% for n in nuclei %}
			<option value="{{ n.slug }}" {% if nucleus and nucleus.slug == n.slug %}selected{% endif %}>
				{{ n.name }}
			</option>
		{% endfor %}
	</select>
</div>

<table>
	<thead>
	<tr>
		<th>Line ID (shape)</th>
		<th>Nombre corto</th>
		<th>Núcleo</th>
		<th>Direcciones</th>
	</tr>
	</thead>
	<tbody>
	{% for ln in lines %}
		<tr>
			<td>
				<a href="/lines/{{ ln.nucleus_id }}/{{ ln.line_id }}">{{ ln.line_id }}</a>
			</td>
			<td>{{ ln.short_name }}</td>
			<td>{{ repo.nucleus_name(ln.nucleus_id) }}</td>
			<td>{{ ln.directions|length }}</td>
		</tr>
	{% endfor %}
	</tbody>
</table>

<p>➜ <a href="/routes/{{ nucleus.slug }}">Ver rutas (raw data)</a></p>